var gameData1 = 
  {"data":[[],[
  {"name":"journalist","category":"crowd","index":0,"lane":1,"x":1,"order":0},
  {"name":"journalist","category":"crowd","index":0,"lane":1,"x":2,"order":0}, 
  {"name":"journalist","category":"crowd","index":0,"lane":1,"x":3,"order":0},
  {
      "name": "wood_stick_cs",
      "category": 'enemy',
      "type": '3_3',
      "index": 0,
      "lane": 1,
      "x": 10,
      "order": 1
  }, 
     {
      "category": "enemy",
      "name" : "wood_stick_cs",
      "type" : '1_1',
      "lane": 1,
      "x": 17,
      "index": 0
    }]],
    
   "backgrounds":{
     "layer1":[{"name":"secondary_skyline.png"}],
     "layer2":[{"name":"main_skyline.png"}],
     "landmarks":[{"name":"landmark_1.png"},{"name":"landmark_2.png"}],
     "fence":[{"name":"fence.png"}],
     "lamp":[{"name":"3amod.png"}],
     "land":[{"name":"land.png"}]},
     
     "environment":"day","gameModes":["normal"]}

var gameData = {"name":"Kazaz test 2","data":{"data":[[{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":0,"x":2,"order":0},{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":0,"x":4,"order":1},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":0,"x":5,"order":2},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":0,"x":9,"order":3},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":0,"x":10,"order":4},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":0,"x":14,"order":5},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":0,"x":15,"order":6},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":0,"x":19,"order":7},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":0,"x":20,"order":8},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":0,"x":24,"order":9},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":0,"x":25,"order":10},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":0,"x":29,"order":11},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":0,"x":30,"order":12},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":0,"x":32,"order":13},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":0,"x":42,"order":14},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":0,"x":44,"order":15},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":0,"x":50,"order":16},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":1,"lane":0,"x":50,"order":17}],[{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":1,"x":0,"order":0},{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":1,"x":2,"order":1},{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":1,"x":4,"order":2},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":1,"x":5,"order":3},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":1,"x":7,"order":4},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":1,"x":9,"order":5},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":1,"x":10,"order":6},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":1,"x":12,"order":7},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":1,"x":14,"order":8},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":1,"x":15,"order":9},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":1,"x":17,"order":10},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":1,"x":19,"order":11},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":1,"x":20,"order":12},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":1,"x":22,"order":13},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":1,"x":24,"order":14},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":1,"x":25,"order":15},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":1,"x":27,"order":16},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":1,"x":29,"order":17},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":1,"x":30,"order":18},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":1,"x":32,"order":19},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":1,"x":34,"order":20},{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":1,"x":36,"order":21},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":1,"lane":1,"x":36,"order":22},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":1,"x":38,"order":23},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":1,"lane":1,"x":38,"order":24},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":1,"x":40,"order":25},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":1,"lane":1,"x":40,"order":26},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":1,"x":42,"order":27},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":1,"x":46,"order":28},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":1,"x":48,"order":29},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":1,"lane":1,"x":48,"order":30},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":1,"x":50,"order":31},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":1,"lane":1,"x":50,"order":32}],[{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":2,"x":2,"order":0},{"name":"wood_stick_cs","category":"enemy","type":"1_1","index":0,"lane":2,"x":4,"order":1},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":2,"x":5,"order":2},{"name":"wood_stick_cs","category":"enemy","type":"1_2","index":0,"lane":2,"x":9,"order":3},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":2,"x":10,"order":4},{"name":"wood_stick_cs","category":"enemy","type":"1_3","index":0,"lane":2,"x":14,"order":5},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":2,"x":15,"order":6},{"name":"wood_stick_cs","category":"enemy","type":"2_3","index":0,"lane":2,"x":19,"order":7},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":2,"x":20,"order":8},{"name":"wood_stick_cs","category":"enemy","type":"3_3","index":0,"lane":2,"x":24,"order":9},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":2,"x":25,"order":10},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":2,"x":29,"order":11},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":2,"x":30,"order":12},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":2,"x":32,"order":13},{"name":"wood_stick_cs","category":"enemy","type":"6_3","index":0,"lane":2,"x":45,"order":14},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":0,"lane":2,"x":50,"order":15},{"name":"wood_stick_cs","category":"enemy","type":"9_3","index":1,"lane":2,"x":50,"order":16}]],"backgrounds":{"layer1":[{"name":"secondary_skyline.png"}],"layer2":[{"name":"main_skyline.png"}],"landmarks":[{"name":"landmark_2.png"}],"fence":[{"name":"fence.png"}],"lamp":[{"name":"3amod2.png"}],"land":[{"name":"land.png"}]},"environment":"day","gameModes":["normal"]},"id":12,"next":17}   

var LevelEditor = Class.create({
	
	settings: {},
	grid : null,
	message: null,
	dataExporter: null,
	dataLoader: null,
	backgroundHandler: null,
	levelObjectsHandler: null,
	settingsHandler: null,
	loSettingsHandler: null,
	tileDataHandler: null,
	
	initialize: function(){
	  
		this.dataLoader = new DataLoader(this);
		this.message = new Message(this);
		this.dataExporter = new DataExporter(this);
		this.grid = new Grid(this);
		this.backgroundHandler = new BackgroundHandler(this);
		this.sevelObjectsHandler = new LevelObjectsHandler(this);
		this.settingsHandler = new SettingsHandler(this);
		this.loSettingsHandler = new LOSettingsHandler(this);
		this.tileDataHandler = new TileDataHandler(this);
	}	
});
